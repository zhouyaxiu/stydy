<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.shensu.mybatis.mapper.InforInspectionMapper.InforInspectionMapper">


    <select id="findStudentReplate" resultType="com.shensu.mybatis.entity.check.Student">
        select
        st.schid  as schId ,
        ns.sch_name,st.clazz_name clazzName ,st.grade grade ,st.rowkey,st.stu_name,st.stu_birth,
        st.stu_isjz,
        st.stu_isfull,
        st.stu_isjz_origin,
        st.stu_isfull_origin,
        B063State,
        B064State,
        B065State,
        B001State,
        B009State,
        B010State,
        B011State,
        B012State,
        B015State,
        B016State,
        B017State,
        B018State,
        B037State,
        B059State,
        B060State,
        B040State,
        B041State,
        B045State,
        B046State,
        B032State,
        B033State,
        B073State,
        B074State,
        B063StateAfter,
        B064StateAfter,
        B065StateAfter,
        B001StateAfter,
        B009StateAfter,
        B010StateAfter,
        B011StateAfter,
        B012StateAfter,
        B015StateAfter,
        B016StateAfter,
        B017StateAfter,
        B018StateAfter,
        B037StateAfter,
        B038StateAfter,
        B039StateAfter,
        B059StateAfter,
        B060StateAfter,
        B040StateAfter,
        B041StateAfter,
        B045StateAfter,
        B046StateAfter,
        B032StateAfter,
        B033StateAfter,
        B073StateAfter,
        B074StateAfter,
        d001,
        d063,d064,d065,
        d009,d010,d011,d012,
        d015,d016,d017,d018,
        d037,
        d059,d060,
        d040,d041,
        d045,d046,
        d032,d033,
        d073,d074,
        d050,d132
        from  v_sys_station vs left join  nur_school ns on vs.STATIONCODE=ns.sch_stationcode
        left join nur_stuinfo st on st.schid=ns.sch_id
        where
        1=1
        <if test="schId != null and schId != ''"> and ns.sch_id=#{schId}</if>
        <if test="classYear != null and classYear != ''">  and st.academic_year=#{classYear}</if>
        <if test="grade != null and grade != ''">  and st.grade=#{grade}</if>
        <if test="lunci != null and lunci != ''"> and st.rounds=#{lunci}</if>
        <if test="className != null and className != ''">  and st.clazz_name=#{className}</if>
        and(
        B001State = '1' and B001StateAfter =  '11' or
        B009State = '1' and B009StateAfter =  '11' or
        B010State = '1' and B010StateAfter =  '11' or
        B011State = '1' and B011StateAfter =  '11' or
        B012State = '1' and B012StateAfter =  '11' or
        B015State = '1' and B015StateAfter =  '11' or
        B016State = '1' and B016StateAfter =  '11' or
        B017State = '1' and B017StateAfter =  '11' or
        B018State = '1' and B018StateAfter =  '11' or
        B032State = '1' and B032StateAfter =  '11' or
        B033State = '1' and B033StateAfter =  '11' or
        B037State = '1' and B037StateAfter =  '11' or
        B040State = '1' and B040StateAfter =  '11' or
        B041State = '1' and B041StateAfter =  '11' or
        B045State = '1' and B045StateAfter =  '11' or
        B046State = '1' and B046StateAfter =  '11' or
        B059State = '1' and B059StateAfter =  '11' or
        B060State = '1' and B060StateAfter =  '11' or
        B063State = '1' and B063StateAfter =  '11' or
        B064State = '1' and B064StateAfter =  '11' or
        B065State = '1' and B065StateAfter =  '11' or
        B033State = '1' and B033StateAfter =  '11' or
        B073State = '1' and B073StateAfter =  '11'
        )

    </select>
</mapper>
