import{a}from"./area.ee098c38.js";import{p as e}from"./setting.2fd48f52.js";import{_ as s}from"./index.143fdacc.js";import{r,b as t,c as l,e as o,k as u,w as c,A as d,l as n,n as v,a1 as i,D as f,F as p}from"./vendor.cc783c3b.js";const m=a=>(f("data-v-316875a6"),a=a(),p(),a),x={class:"tree-area flex"},_=m((()=>d("div",{class:"title"},"接种单位",-1))),C={class:"ml_30 tree-area flex"},I=m((()=>d("div",{class:"title"},"目标区划",-1)));var g=s({__name:"index",setup(s){const f=r(""),p=r(null),m=r(""),g=r(""),h=r(null),b=r(""),j=a=>{p.value=a,f.value=a.areaCode,m.value=a.isLeaf},k=a=>{h.value=a,g.value=a.areaCode,b.value=a.isLeaf},T=()=>{f.value="",p.value=null,m.value="",g.value="",h.value=null,b.value=""},w=()=>m.value?""===f.value?(v.error("请选择接种单位！"),!1):b.value?""===g.value?(v.error("请选择目标区划(乡镇)！"),!1):void i.confirm("确定要迁移该接种单位吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then((()=>{const s={sourceCode:f.value,sourceId:p.value.areaId,sourceSupId:p.value.supId,targetId:h.value.areaId,targetCode:g.value};e(s).then((e=>{200===e.data.code?(a(),v.success(e.data.data.data)):v.error(e.data.popMsg),T()})).catch((()=>{}))})).catch((()=>{v.info("已取消迁移！"),T()})):(v.error("目标区划请选择到乡镇！"),!1):(v.error("请选择到接种单位！"),!1);return(a,e)=>{const s=t("ss-condition-area"),r=t("ss-area-areaTreeExpand"),v=t("el-button"),i=t("ss-custom-area");return l(),o("div",null,[u(s,{isShowBtn:!1}),u(i,{class:"flex"},{default:c((()=>[d("div",x,[_,u(r,{onNodeClick:j,class:"tree"})]),u(v,{class:"button",onClick:w,type:"primary"},{default:c((()=>[n("迁移")])),_:1}),d("div",C,[I,u(r,{getToLevelNum:4,onNodeClick:k,class:"tree"})])])),_:1})])}}},[["__scopeId","data-v-316875a6"]]);export{g as default};
