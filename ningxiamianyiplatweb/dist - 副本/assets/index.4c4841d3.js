var e=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,i=(a,l,o)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[l]=o;import{r,t as s}from"./gjdc.b3af9cfa.js";import{m as d}from"./index.143fdacc.js";import{Y as u,r as p,j as c,o as m,b as v,c as b,e as f,k as h,w as y,A as C,u as w,U as V,I as g,J as W,d as T}from"./vendor.cc783c3b.js";const N={class:"jzinfo"},j={class:"condition-row"},O={class:"item"},x=C("span",{class:"label required"},"地区：",-1),I={class:"item"},S=C("span",{class:"label required"},"接种日期：",-1),U={class:"item"},D=C("span",{class:"label"},"身份证件类别：",-1),L={class:"item"},P=C("span",{class:"label"},"性别：",-1),k={class:"condition-row"},_={class:"item"},M=C("span",{class:"label"},"受种者出生时间范围：",-1),$={class:"item"},z=C("span",{class:"label"},"接种剂次：",-1),B={class:"item"},J=C("span",{class:"label"},"疫苗生产企业：",-1),q={class:"condition-row"},A={class:"item"},E=C("span",{class:"label"},"疫苗批号：",-1),K={class:"item"},Y=C("span",{class:"label"},"追溯码：",-1),G={__name:"index",setup(e){const{appContext:G}=u(),F=G.config.globalProperties,H=d(),Q=p([]),R=p(0),X=p(1),Z=p(0),ee=F.$commonOptions.fidCardTypeList,ae=F.$commonOptions.sexList,le=p(""),oe=p([F.$dateUtil.lastMonthStartDay(),F.$dateUtil.lastMonthEndDay()]),te=p(""),ne=p([]),ie=p(""),re=p(""),se=p(""),de=p(null),ue=p([{name:"1",code:"B655"},{name:"2",code:"B656"},{name:"3",code:"B676"},{name:"4",code:"B677"}]),pe=c([{label:"序号",type:"index",minWidth:"80"},{label:"预防接种档案编号",prop:"fchildno",minWidth:"180"},{label:"受种者姓名",prop:"name",minWidth:"120",overflowTip:!0},{label:"居委会",prop:"jwh",minWidth:"150",overflowTip:!0},{label:"身份证件类别",prop:"fidCardTypeText",minWidth:"120"},{label:"身份证件类别代码",prop:"fidCardType",minWidth:"150"},{label:"身份证件号码",prop:"cid",minWidth:"150",overflowTip:!0},{label:"性别",prop:"sexCn",minWidth:"100"},{label:"性别代码",prop:"sexCodeCn",minWidth:"90"},{label:"受种者出生时间",prop:"birth",minWidth:"140"},{label:"国籍",prop:"nationName",minWidth:"150",overflowTip:!0},{label:"国籍代码",prop:"fnationAlityCode",minWidth:"100"},{label:"人群分类",prop:"crowdKindCnName",minWidth:"140",overflowTip:!0},{label:"人群分类代码",prop:"fcrowdKindCode",minWidth:"120"},{label:"疫苗接种时间",prop:"jzrq",minWidth:"150",overflowTip:!0},{label:"疫苗剂次",prop:"jc",minWidth:"100"},{label:"疫苗生产企业",prop:"compShortNameCn",minWidth:"120"},{label:"疫苗生产企业代码",prop:"compGjCode",minWidth:"160"},{label:"疫苗批号",prop:"ymph",minWidth:"140",overflowTip:!0},{label:"疫苗追溯码",prop:"fmonitorCode",minWidth:"160",overflowTip:!0},{label:"接种单位",prop:"stationNameCn",minWidth:"150",overflowTip:!0},{label:"接种单位编码",prop:"stationCodeCn",minWidth:"120"},{label:"区县名称",prop:"counNameCn",minWidth:"100"},{label:"区县编码",prop:"counCodeCn",minWidth:"100"},{label:"地市名称",prop:"cityNameCn",minWidth:"100"},{label:"地市编码",prop:"cityCodeCn",minWidth:"100"}]),ce=p(null);let me=c({areaId:H.userInfo.areaId,areaCode:H.userInfo.areaCode,selectAreaLevel:sessionStorage.getItem("currentLevel"),skipValue:String(Number(sessionStorage.getItem("currentLevel"))+1),areaName:H.userInfo.areaName});const ve=e=>{"number"==typeof e&&(X.value=e);let s=oe.value[0],d=oe.value[1],u=ne.value[0],p=ne.value[1];if(!s||!d)return F.$util.showMsg("请选择填报日期范围！","error",5e3,!0);const c={areaCode:me.areaCode,areaLevel:me.selectAreaLevel,startJzDate:s,endJzDate:d,IDType:le.value,sex:te.value,startBirthDate:u,endBirthDate:p,jzJc:ie.value,fenterNo:de.value.fenterNo,vaccBatch:re.value,fMonitorcode:se.value,pageIndex:X.value};let m=le.value?ee.filter((e=>e.code==le.value))[0].name:"",v=te.value?ae.filter((e=>e.code==te.value))[0].name:"",b=ie.value?ue.value.filter((e=>e.code==ie.value))[0].name:"",f=de.value.fenterNo?de.value.fenterName:"";var h;ce.value=(h=((e,a)=>{for(var l in a||(a={}))t.call(a,l)&&i(e,l,a[l]);if(o)for(var l of o(a))n.call(a,l)&&i(e,l,a[l]);return e})({},c),a(h,l({IDTypeName:m,sexShow:v,jzJcShow:b,fenterName:f}))),r(c).then((e=>{200===e.data.code?(Q.value=e.data.data.data.list,Z.value=e.data.data.data.total,R.value=e.data.sec):e.data.popMsg&&(R.value="",Q.value=[],Z.value=0,F.$util.showMsg(e.data.popMsg,"error"))}))},be=e=>{me=e},fe=()=>{if(!ce.value||ce.value.areaCode!=me.areaCode)return F.$util.showMsg("查询后才可以导出！","error",5e3,!0);let e=JSON.parse(JSON.stringify(ce.value));e.areaName=me.areaName+" "+me.areaCode.slice(0,10),e.operateType=F.$consts.OPTYPE_OUTPUT,s(e)};return m((()=>{})),(e,a)=>{const l=v("ss-area-areaTreeStation"),o=v("ss-date-range-new"),t=v("el-option"),n=v("el-select"),i=v("ss-vaccine-vendor"),r=v("el-input"),s=v("ss-custom-button"),d=v("ss-query-bottom"),u=v("ss-condition-area"),p=v("ss-pagination"),c=v("ss-custom-table");return b(),f("div",N,[h(u,null,{default:y((()=>[C("div",j,[C("div",O,[x,h(l,{modelValue:w(me),"onUpdate:modelValue":a[0]||(a[0]=e=>V(me)?me.value=e:me=e),getToLevelNum:5,showSelect:!1,onNodeClick:be},null,8,["modelValue"])]),C("div",I,[S,h(o,{defaultValue:oe.value,"onUpdate:defaultValue":a[1]||(a[1]=e=>oe.value=e)},null,8,["defaultValue"])]),C("div",U,[D,h(n,{modelValue:le.value,"onUpdate:modelValue":a[2]||(a[2]=e=>le.value=e),clearable:"",style:{position:"relative"},placeholder:"请选择"},{default:y((()=>[(b(!0),f(g,null,W(w(ee),(e=>(b(),T(t,{key:e.code,label:e.name,value:e.code},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])]),C("div",L,[P,h(n,{modelValue:te.value,"onUpdate:modelValue":a[3]||(a[3]=e=>te.value=e),clearable:"",style:{position:"relative"},placeholder:"请选择"},{default:y((()=>[(b(!0),f(g,null,W(w(ae),(e=>(b(),T(t,{key:e.code,label:e.name,value:e.code},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])]),C("div",k,[C("div",_,[M,h(o,{defaultValue:ne.value,"onUpdate:defaultValue":a[4]||(a[4]=e=>ne.value=e)},null,8,["defaultValue"])]),C("div",$,[z,h(n,{modelValue:ie.value,"onUpdate:modelValue":a[5]||(a[5]=e=>ie.value=e),clearable:"",style:{position:"relative"}},{default:y((()=>[(b(!0),f(g,null,W(ue.value,(e=>(b(),T(t,{key:e.code,label:e.name,value:e.code},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])]),C("div",B,[J,h(i,{ref_key:"selectedVaccineVendor",ref:de},null,512)])]),C("div",q,[C("div",A,[E,h(r,{modelValue:re.value,"onUpdate:modelValue":a[6]||(a[6]=e=>re.value=e),clearable:""},null,8,["modelValue"])]),C("div",K,[Y,h(r,{modelValue:se.value,"onUpdate:modelValue":a[7]||(a[7]=e=>se.value=e),clearable:""},null,8,["modelValue"])])]),h(d,{statisTics:!0,secTime:R.value},{default:y((()=>[h(s,{type:"query",onClick:ve}),h(s,{type:"output",onClick:fe})])),_:1},8,["secTime"])])),_:1}),h(p,{total:Z.value,pageIndex:X.value,pageSize:20,onPageChange:ve},null,8,["total","pageIndex"]),h(c,{tableData:Q.value,columnList:pe},null,8,["tableData","columnList"])])}}};export{G as default};
