import{A as l,B as e}from"./gjdc.b3af9cfa.js";import{Y as a,r as t,j as o,b as p,c as i,e as r,k as s,w as n,A as d}from"./vendor.cc783c3b.js";import"./index.143fdacc.js";const m={class:"flex"},u=d("span",{class:"label"},"身份证件号码：",-1),b=d("span",{class:"label"},"（最多允许输入10个，中间逗号隔开）",-1),c={class:"mt10"},h={__name:"index",setup(h){const{appContext:v}=a(),W=v.config.globalProperties,f=t([]),g=t(0),w=t(""),y=t(!1),x=o([{label:"档案预防接种档案编号",prop:"fchildno",minWidth:"180"},{label:"省",prop:"province"},{label:"接种单位",prop:"currentManagementCodeName",minWidth:"220",overflowTip:!0},{label:"姓名",prop:"name"},{label:"性别",prop:"genderCode"},{label:"身份证件号码",prop:"idCard",minWidth:"180"},{label:"联系电话",prop:"tel",minWidth:"120"},{label:"接种日期",prop:"jzrq",minWidth:"160"},{label:"接种剂次",prop:"seq",minWidth:"100"},{label:"部位",prop:"bdpart"},{label:"追溯码",prop:"zsm",minWidth:200,overflowTip:!0},{label:"疫苗种类",prop:"ymName",minWidth:"160",overflowTip:!0},{label:"疫苗编码",prop:"bactid",minWidth:"100"},{label:"批号",prop:"ymph",minWidth:"120"},{label:"有效期",prop:"yxq",minWidth:"120"},{label:"接种单位",prop:"jzdwbmmc",minWidth:"220",overflowTip:!0},{label:"接种单位编码",prop:"jzdwbmbm",minWidth:"140"},{label:"接种人员",prop:"jzys",minWidth:"120"},{label:"接种途径",prop:"tj",minWidth:"120"},{label:"录入单位",prop:"lrdwbmmc",minWidth:"220",overflowTip:!0},{label:"更新单位",prop:"gxdwbmmc",minWidth:"220",overflowTip:!0},{label:"上传时间",prop:"uploadDate",minWidth:"170"},{label:"更新时间",prop:"updateDate",minWidth:"170"},{label:"疫苗属性",prop:"ymsx",minWidth:"120"},{label:"价格",prop:"price"},{label:"疫苗类型",prop:"ymtype",minWidth:"100"},{label:"企业",prop:"factory",minWidth:"130"}]),j=t(null),T=()=>{let l=new Set(w.value.split(",")).size;if(!w.value)return W.$util.showMsg("身份证件号码必填！","error");if(l>10)return W.$util.showMsg("最多允许输入10个！","warning");const a={idcards:w.value};j.value=a,e(a).then((l=>{200==l.data.code?(f.value=l.data.data.list,g.value=l.data.data.total):l.data.popMsg&&(f.value=[],g.value=0,W.$util.showMsg(l.data.popMsg,"error"))}))},C=()=>{j.value?1!==f.value.length?y.value=!0:ElMessage.error("暂无需要导出的数据！"):ElMessage.error("查询后才可以导出！")},M=()=>{let e=JSON.parse(JSON.stringify(j.value));e.operateType=W.$consts.OPTYPE_OUTPUT,l(e)},z=()=>{y.value=!1};return(l,e)=>{const a=p("el-input"),t=p("ss-custom-button"),o=p("ss-condition-area"),h=p("ss-custom-table"),v=p("ss-export-dialog");return i(),r("div",null,[s(o,null,{default:n((()=>[d("div",m,[u,s(a,{modelValue:w.value,"onUpdate:modelValue":e[0]||(e[0]=l=>w.value=l),style:{"max-width":"300px"}},null,8,["modelValue"]),b]),d("div",c,[s(t,{type:"query",onClick:T}),s(t,{type:"output",onClick:C})])])),_:1}),s(h,{tableData:f.value,columnList:x},null,8,["tableData","columnList"]),s(v,{onCallback:M,onHandleClose:z,total:g.value,typeStr:"国家重档数据查询导出",dialogVisible:y.value},null,8,["total","dialogVisible"])])}}};export{h as default};
