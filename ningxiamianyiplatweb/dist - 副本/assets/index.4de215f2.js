import{C as a,D as e}from"./gjdc.b3af9cfa.js";import{r as t,Y as l,j as s,b as u,c as o,e as n,k as r,w as d,A as p}from"./vendor.cc783c3b.js";import"./index.143fdacc.js";const c={class:"condition-row"},i={class:"item"},m=p("span",{class:"label required"},"上传日期：",-1),v={__name:"index",setup(v){const b=t([]),f=t(0),{appContext:g}=l(),T=g.config.globalProperties,y=s([{label:"上传日期",prop:"uploadDate"},{label:"更新档案数",prop:"updateCount"},{label:"打包上传数",prop:"packageCount"},{label:"数据不合格未上传数",prop:"nopackagecount"},{label:"上传成功数",prop:"successcount"},{label:"上传失败数",prop:"failCount"},{label:"国家无返回数",prop:"nobackcount"}]),k=t(null),C=t([T.$dateUtil.dayAddNum(1),T.$dateUtil.dayAddNum(1)]),_=t(null),h=()=>{const e={endTime:C.value[1],startTime:C.value[0]};k.value=e,a(e).then((a=>{a.data.popMsg&&(b.value=[],f.value="",T.$util.showMsg(a.data.popMsg,"error")),200===a.data.code&&(b.value=a.data.data.list,f.value=a.data.sec)}))},j=()=>{if(!k.value||k.value.startTime!=C.value[0]||k.value.endTime!=C.value[1]||0==b.value.length)return T.$util.showMsg("查询后才可以导出！","error",5e3,!0);let a=JSON.parse(JSON.stringify(k.value));a.operateType=T.$consts.OPTYPE_OUTPUT,e(a)};return(a,e)=>{const t=u("ss-date-range-new"),l=u("ss-custom-button"),s=u("ss-query-bottom"),v=u("ss-condition-area"),g=u("ss-custom-table");return o(),n("div",null,[r(v,null,{default:d((()=>[p("div",c,[p("div",i,[m,r(t,{ref_key:"daterangeRef",ref:_,defaultValue:C.value,"onUpdate:defaultValue":e[0]||(e[0]=a=>C.value=a),rangeName:"month"},null,8,["defaultValue"])])]),r(s,{secTime:f.value},{default:d((()=>[r(l,{type:"query",onClick:h}),r(l,{type:"output",onClick:j})])),_:1},8,["secTime"])])),_:1}),r(g,{tableData:b.value,columnList:y,remarkText:"1、系统当天的数据，在17点进行汇总，汇总上传时间截止到16点前的更新个案情况。同时更新前一天上传档案对应的上传成功档案数、上传失败档案数、国家无返回档案数。<br>2、系统非当天的数据，在第2天凌晨进行汇总。"},null,8,["tableData","columnList"])])}}};export{v as default};
