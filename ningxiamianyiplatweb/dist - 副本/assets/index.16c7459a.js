import{b as e,o as a}from"./hr.fbb8980e.js";import{m as r}from"./index.143fdacc.js";import{Y as t,r as l,j as o,b as s,c as i,e as n,k as p,w as c,A as u,u as d,U as m}from"./vendor.cc783c3b.js";const b={class:"statistic"},h={class:"condition-row flex"},g={class:"item"},v=u("span",{class:"required label"},"单位选择：",-1),f={__name:"index",setup(f){const{appContext:N}=t(),C=N.config.globalProperties,T=l([]),k=r(),S=o([{label:"单位",prop:"unitName",minWidth:"200",overflowTip:!0},{label:"免疫规划条线各种技术职称人数",hasChildrenTitle:!0,list:[{label:"正主任医师",prop:"director",minWidth:"120"},{label:"副主任医师",prop:"associateDirector",minWidth:"140"},{label:"主管医师",prop:"directorDoctor",minWidth:"120"},{label:"医师",prop:"doctor"},{label:"医士",prop:"medicalAssistant"},{label:"正主任技师",prop:"seniorTechnologist",minWidth:"120"},{label:"副主任技师",prop:"associateSeniorTechnologist",minWidth:"120"},{label:"主管技师",prop:"technologistInCharge",minWidth:"90"},{label:"技师",prop:"technologist"},{label:"技士",prop:"technician"},{label:"正主任护师",prop:"professorNursing",minWidth:"150"},{label:"副主任护师",prop:"associateProfessorNursing",minWidth:"150"},{label:"主管护师",prop:"directorNursePractitioner",minWidth:"90"},{label:"护师",prop:"nursePractitioner"},{label:"护士",prop:"nurse"},{label:"防疫员",prop:"antiepidemic"},{label:"乡村医生",prop:"villageDoctor",minWidth:"120"},{label:"其他",prop:"others"}]},{label:"合计",prop:"total"}]),W=l(null);let I=o({areaId:k.userInfo.areaId,areaCode:k.userInfo.areaCode,areaName:k.userInfo.areaName,selectAreaLevel:sessionStorage.getItem("currentLevel"),skipValue:String(Number(sessionStorage.getItem("currentLevel"))+1)});const L=()=>{const a={areaId:I.areaId,areaCode:I.areaCode,areaName:I.areaName,areaLevel:I.selectAreaLevel,skipValue:I.skipValue};W.value=a,e(a).then((e=>{if(200!==e.data.code)return T.value=[],C.$util.showMsg(e.data.popMsg,"error",5e3,!0);T.value=e.data.data.list}))},V=e=>{I=e,I.skipValue=String(Number(I.selectAreaLevel)+1)},P=e=>{I.skipValue=e},w=()=>{if(!W.value||W.value.areaCode!=I.areaCode)return C.$util.showMsg("查询后才可以导出！","error",5e3,!0);let e=JSON.parse(JSON.stringify(W.value));e.areaName=e.areaName+" "+e.areaCode.slice(0,10),e.operateType=C.$consts.OPTYPE_OUTPUT,a(e)};return(e,a)=>{const r=s("ss-area-areaTreeStation"),t=s("ss-custom-button"),l=s("ss-query-bottom"),o=s("ss-condition-area"),f=s("ss-custom-table");return i(),n("div",b,[p(o,null,{default:c((()=>[u("div",h,[u("div",g,[v,p(r,{ref:"areaTreeStation",modelValue:d(I),"onUpdate:modelValue":a[0]||(a[0]=e=>m(I)?I.value=e:I=e),getToLevelNum:5,onNodeClick:V,showSelect:!0,onSelectClick:P},null,8,["modelValue"])])]),p(l,{statisTics:!0},{default:c((()=>[p(t,{type:"statics",onClick:L}),p(t,{type:"output",onClick:w})])),_:1})])),_:1}),p(f,{tableData:T.value,columnList:S,remarkText:"① 技术职称为空不统计；<br>② 省、市、县、乡、接种单位采用静态计算。"},null,8,["tableData","columnList"])])}}};export{f as default};
