import{W as e,X as a}from"./gjdc.b3af9cfa.js";import{m as l}from"./index.143fdacc.js";import{Y as t,r as s,j as o,o as d,b as r,c as u,e as n,k as i,w as c,A as p,u as m,U as v,l as b,I as h,J as f,d as g,B as V}from"./vendor.cc783c3b.js";const T={class:"condition-row"},C={class:"item"},W=p("span",{class:"label"},"地区：",-1),j={class:"item"},k=p("span",{class:"label"},"接种日期：",-1),I={class:"item"},U=p("span",{class:"label"},"疫苗生产企业：",-1),_={class:"item"},y=p("span",{class:"label"},"制品编码：",-1),L={class:"condition-row"},N={class:"item"},$={class:"label"},w={__name:"index",setup(w){const{appContext:S}=t(),x=S.config.globalProperties,A=l(),M=s([]),O=s(0),P=s([]),Y=s(!1),D=s(!1),E=s("-1"),J=s(null),q=x.$commonOptions.agesList,B=o([{label:"地区",prop:"area_name",minWidth:"80"},{label:"累计接种人数（人）",hasChildrenTitle:!0,list:[{label:"合计",prop:"lj",minWidth:"100"},{label:"第1剂",prop:"lj1",minWidth:"100"},{label:"第2剂",prop:"lj2",minWidth:"100"},{label:"第3剂",prop:"lj3",minWidth:"100"},{label:"第4剂",prop:"lj4",minWidth:"100"},{label:"第5剂",prop:"lj5",minWidth:"100"}]},{label:"当日接种人数（人）",hasChildrenTitle:!0,list:[{label:"合计",prop:"dr",minWidth:"100"},{label:"第1剂",prop:"dr1",minWidth:"100"},{label:"第2剂",prop:"dr2",minWidth:"100"},{label:"第3剂",prop:"dr3",minWidth:"100"},{label:"第4剂",prop:"dr4",minWidth:"100"},{label:"第5剂",prop:"dr5",minWidth:"100"}]}]),Q=s(null);let R=o({areaId:A.userInfo.areaId,areaCode:A.userInfo.areaCode,selectAreaLevel:sessionStorage.getItem("currentLevel"),skipValue:String(Number(sessionStorage.getItem("currentLevel"))+1)});const X=s([x.$dateUtil.dayAddNum(7),x.$dateUtil.currentDate()]),z=()=>{let a=X.value[0],l=X.value[1];if(!a||!l)return x.$util.showMsg("请选择填报日期范围！","error",5e3,!0);const t={areaCode:R.areaCode,areaId:R.areaId,areaLevel:R.selectAreaLevel,areaName:R.areaCode,startTime:a,endTime:l,fenterNo:J.value.fenterNo.join(","),productno:E.value,chkAge:P.value,operateType:x.$consts.OPTYPE_QUERY,cModId:A.moduleId};Q.value=t,e(t).then((e=>{200===e.data.code?(M.value=e.data.data,O.value=e.data.sec):e.data.popMsg&&(O.value="",M.value=[],x.$util.showMsg(e.data.popMsg,"error"))}))},F=e=>{R=e,R.skipValue=String(Number(R.selectAreaLevel)+1)},G=()=>{if(!Q.value||Q.value.areaCode!=R.areaCode)return x.$util.showMsg("查询后才可以导出！","error",5e3,!0);let e=JSON.parse(JSON.stringify(Q.value));e.operateType=x.$consts.OPTYPE_OUTPUT,a(e)},H=e=>{if(!e)return D.value=!1,P.value=[];P.value=q.map((e=>e.id)),D.value=!1},K=e=>{e||(Y.value=!1,D.value=!0),P.value.length==q.length?(Y.value=!0,D.value=!1):D.value=!0};return d((()=>{})),(e,a)=>{const l=r("ss-area-areaTreeStation"),t=r("ss-date-range-new"),s=r("ss-vaccine-vendor"),o=r("ss-product-code"),d=r("el-checkbox"),w=r("el-checkbox-group"),S=r("ss-custom-button"),x=r("ss-query-bottom"),A=r("ss-condition-area"),Q=r("ss-custom-table");return u(),n("div",null,[i(A,null,{default:c((()=>[p("div",T,[p("div",C,[W,i(l,{modelValue:m(R),"onUpdate:modelValue":a[0]||(a[0]=e=>v(R)?R.value=e:R=e),getToLevelNum:5,onNodeClick:F},null,8,["modelValue"])]),p("div",j,[k,i(t,{defaultValue:X.value,"onUpdate:defaultValue":a[1]||(a[1]=e=>X.value=e)},null,8,["defaultValue"])]),p("div",I,[U,i(s,{ref_key:"selectedVaccineVendor",ref:J,multiple:!0,collapseTags:!0},null,512)]),p("div",_,[y,i(o,{modelValue:E.value,"onUpdate:modelValue":a[2]||(a[2]=e=>E.value=e)},null,8,["modelValue"])])]),p("div",L,[p("div",N,[p("span",$,[i(d,{indeterminate:D.value,modelValue:Y.value,"onUpdate:modelValue":a[3]||(a[3]=e=>Y.value=e),onChange:H},{default:c((()=>[b("年龄组：")])),_:1},8,["indeterminate","modelValue"])]),i(w,{modelValue:P.value,"onUpdate:modelValue":a[4]||(a[4]=e=>P.value=e),onChange:K,disabled:!Y.value},{default:c((()=>[(u(!0),n(h,null,f(m(q),(e=>(u(),g(d,{label:e.id,key:e.id},{default:c((()=>[b(V(e.name),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue","disabled"])])]),i(x,{statisTics:!0,secTime:O.value},{default:c((()=>[i(S,{type:"query",onClick:z}),i(S,{type:"output",onClick:G})])),_:1},8,["secTime"])])),_:1}),i(Q,{tableData:M.value,columnList:B},null,8,["tableData","columnList"])])}}};export{w as default};
