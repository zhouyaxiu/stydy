var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,o=(a,t,r)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[t]=r;import{S as s,T as i}from"./gjdc.b3af9cfa.js";import{m as n}from"./index.143fdacc.js";import{Y as c,r as d,j as p,b as m,c as v,e as f,k as b,w as T,A as y,u as V,n as j}from"./vendor.cc783c3b.js";const O={class:"condition-row"},g={class:"item"},P={class:"item"},h={__name:"index",setup(e){const h=n(),{appContext:A}=c(),U=A.config.globalProperties,C=d([U.$dateUtil.dayAddNum(7),U.$dateUtil.currentDate()]),D=d([U.$dateUtil.getAfterNYearsDateStr(-1),U.$dateUtil.currentDate()]),_=d([]),w=d(null);let E=d(0);const L=d(""),N=p([{label:"问题类型",prop:"问题类型",minWidth:"180"},{label:"不合格条数",prop:"area_code"}]),S=d(null),$=e=>{w.value.setheight()},I=()=>{let e=C.value[0]||"",a=C.value[1]||"";if(!e||""==e||!a||""==a)return j.error("接种日期为必填项，请填写完整再查询！"),!1;let t=D.value[0]||"",r=D.value[1]||"";if(!t||""==t||!r||""==r)return j.error("出生日期为必填项，请填写完整再查询！"),!1;let l={selectAreaId:areaTreeValue.areaId,selectAreaCode:areaTreeValue.areaCode,selectAreaName:areaTreeValue.areaName,selectAreaLevel:areaTreeValue.selectAreaLevel,selectType:areaTreeValue.skipValue,birthStartTime:t,birthEndTime:r,jzrqStartTime:e,jzrqEndTime:a,operateType:U.$consts.OPTYPE_QUERY,cModId:h.moduleId};S.value=l,L.value=areaTreeValue.areaName+" "+areaTreeValue.areaCode,s(l).then((e=>{dataList=e.data,E=e.sec})).catch((()=>{}))},Y=()=>{if(!searchDataa.value)return void j.error("查询后才可以导出！");if(1===dataList.length)return void j.error("暂无需要导出的数据！");S.value.selectAreaName=L.value;let e=(s=((e,a)=>{for(var t in a||(a={}))l.call(a,t)&&o(e,t,a[t]);if(r)for(var t of r(a))u.call(a,t)&&o(e,t,a[t]);return e})({},S.value),n={operateType:U.$consts.OPTYPE_OUTPUT},a(s,t(n)));var s,n;i(e)};return(e,a)=>{const t=m("ss-date-range"),r=m("ss-custom-button"),l=m("ss-query-bottom"),u=m("ss-condition-area"),o=m("ss-custom-table");return v(),f("div",null,[b(u,{onSetConditionFlag:$},{default:T((()=>[y("div",O,[y("div",g,[b(t,{title:"接种日期",defaultValue:C.value,"onUpdate:defaultValue":a[0]||(a[0]=e=>C.value=e)},null,8,["defaultValue"])]),y("div",P,[b(t,{title:"出生日期",defaultValue:D.value,"onUpdate:defaultValue":a[1]||(a[1]=e=>D.value=e)},null,8,["defaultValue"])])]),b(l,{secTime:V(E)},{default:T((()=>[b(r,{type:"query",onClick:I}),b(r,{type:"output",onClick:Y})])),_:1},8,["secTime"])])),_:1}),b(o,{tableData:_.value,columnList:N},null,8,["tableData","columnList"])])}}};export{h as default};
